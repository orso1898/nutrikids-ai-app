{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [isAuthenticated, setIsAuthenticated] = (0, _react.useState)(false);\n    const [userEmail, setUserEmail] = (0, _react.useState)(null);\n    const [isAdmin, setIsAdmin] = (0, _react.useState)(false);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkAuthStatus();\n    }, []);\n    const checkAuthStatus = async () => {\n      try {\n        const email = await AsyncStorage.default.getItem('userEmail');\n        if (email) {\n          setIsAuthenticated(true);\n          setUserEmail(email);\n          setIsAdmin(email === 'admin@nutrikids.com');\n        }\n      } catch (error) {\n        console.error('Error checking auth status:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async email => {\n      try {\n        await AsyncStorage.default.setItem('userEmail', email);\n        setIsAuthenticated(true);\n        setUserEmail(email);\n        setIsAdmin(email === 'admin@nutrikids.com');\n      } catch (error) {\n        console.error('Error during login:', error);\n        throw error;\n      }\n    };\n    const logout = async () => {\n      try {\n        await AsyncStorage.default.removeItem('userEmail');\n        await AsyncStorage.default.removeItem('hasSeenOnboarding');\n        setIsAuthenticated(false);\n        setUserEmail(null);\n        setIsAdmin(false);\n      } catch (error) {\n        console.error('Error during logout:', error);\n        throw error;\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        isAuthenticated,\n        userEmail,\n        isAdmin,\n        login,\n        logout,\n        loading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":100,"map":[[13,2,15,0,"Object"],[13,8,15,0],[13,9,15,0,"defineProperty"],[13,23,15,0],[13,24,15,0,"exports"],[13,31,15,0],[14,4,15,0,"enumerable"],[14,14,15,0],[15,4,15,0,"get"],[15,7,15,0],[15,18,15,0,"get"],[15,19,15,0],[16,6,15,0],[16,13,15,0,"AuthProvider"],[16,25,15,0],[17,4,15,0],[18,2,15,0],[19,2,72,0,"Object"],[19,8,72,0],[19,9,72,0,"defineProperty"],[19,23,72,0],[19,24,72,0,"exports"],[19,31,72,0],[20,4,72,0,"enumerable"],[20,14,72,0],[21,4,72,0,"get"],[21,7,72,0],[21,18,72,0,"get"],[21,19,72,0],[22,6,72,0],[22,13,72,0,"useAuth"],[22,20,72,0],[23,4,72,0],[24,2,72,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,2,69],[28,6,2,69,"_reactJsxDevRuntime"],[28,25,2,69],[28,28,2,69,"require"],[28,35,2,69],[28,36,2,69,"_dependencyMap"],[28,50,2,69],[29,2,13,0],[29,8,13,6,"AuthContext"],[29,19,13,17],[29,35,13,20],[29,39,13,20,"createContext"],[29,45,13,33],[29,46,13,33,"createContext"],[29,59,13,33],[29,61,13,63,"undefined"],[29,70,13,72],[29,71,13,73],[30,2,15,7],[30,8,15,13,"AuthProvider"],[30,20,15,25],[30,23,15,28,"AuthProvider"],[30,24,15,29],[31,4,15,31,"children"],[32,2,15,65],[32,3,15,66],[32,8,15,71],[33,4,16,2],[33,10,16,8],[33,11,16,9,"isAuthenticated"],[33,26,16,24],[33,28,16,26,"setIsAuthenticated"],[33,46,16,44],[33,47,16,45],[33,50,16,48],[33,54,16,48,"useState"],[33,60,16,56],[33,61,16,56,"useState"],[33,69,16,56],[33,71,16,57],[33,76,16,62],[33,77,16,63],[34,4,17,2],[34,10,17,8],[34,11,17,9,"userEmail"],[34,20,17,18],[34,22,17,20,"setUserEmail"],[34,34,17,32],[34,35,17,33],[34,38,17,36],[34,42,17,36,"useState"],[34,48,17,44],[34,49,17,44,"useState"],[34,57,17,44],[34,59,17,60],[34,63,17,64],[34,64,17,65],[35,4,18,2],[35,10,18,8],[35,11,18,9,"isAdmin"],[35,18,18,16],[35,20,18,18,"setIsAdmin"],[35,30,18,28],[35,31,18,29],[35,34,18,32],[35,38,18,32,"useState"],[35,44,18,40],[35,45,18,40,"useState"],[35,53,18,40],[35,55,18,41],[35,60,18,46],[35,61,18,47],[36,4,19,2],[36,10,19,8],[36,11,19,9,"loading"],[36,18,19,16],[36,20,19,18,"setLoading"],[36,30,19,28],[36,31,19,29],[36,34,19,32],[36,38,19,32,"useState"],[36,44,19,40],[36,45,19,40,"useState"],[36,53,19,40],[36,55,19,41],[36,59,19,45],[36,60,19,46],[37,4,21,2],[37,8,21,2,"useEffect"],[37,14,21,11],[37,15,21,11,"useEffect"],[37,24,21,11],[37,26,21,12],[37,32,21,18],[38,6,22,4,"checkAuthStatus"],[38,21,22,19],[38,22,22,20],[38,23,22,21],[39,4,23,2],[39,5,23,3],[39,7,23,5],[39,9,23,7],[39,10,23,8],[40,4,25,2],[40,10,25,8,"checkAuthStatus"],[40,25,25,23],[40,28,25,26],[40,34,25,26,"checkAuthStatus"],[40,35,25,26],[40,40,25,38],[41,6,26,4],[41,10,26,8],[42,8,27,6],[42,14,27,12,"email"],[42,19,27,17],[42,22,27,20],[42,28,27,26,"AsyncStorage"],[42,40,27,38],[42,41,27,38,"default"],[42,48,27,38],[42,49,27,39,"getItem"],[42,56,27,46],[42,57,27,47],[42,68,27,58],[42,69,27,59],[43,8,28,6],[43,12,28,10,"email"],[43,17,28,15],[43,19,28,17],[44,10,29,8,"setIsAuthenticated"],[44,28,29,26],[44,29,29,27],[44,33,29,31],[44,34,29,32],[45,10,30,8,"setUserEmail"],[45,22,30,20],[45,23,30,21,"email"],[45,28,30,26],[45,29,30,27],[46,10,31,8,"setIsAdmin"],[46,20,31,18],[46,21,31,19,"email"],[46,26,31,24],[46,31,31,29],[46,52,31,50],[46,53,31,51],[47,8,32,6],[48,6,33,4],[48,7,33,5],[48,8,33,6],[48,15,33,13,"error"],[48,20,33,18],[48,22,33,20],[49,8,34,6,"console"],[49,15,34,13],[49,16,34,14,"error"],[49,21,34,19],[49,22,34,20],[49,51,34,49],[49,53,34,51,"error"],[49,58,34,56],[49,59,34,57],[50,6,35,4],[50,7,35,5],[50,16,35,14],[51,8,36,6,"setLoading"],[51,18,36,16],[51,19,36,17],[51,24,36,22],[51,25,36,23],[52,6,37,4],[53,4,38,2],[53,5,38,3],[54,4,40,2],[54,10,40,8,"login"],[54,15,40,13],[54,18,40,16],[54,24,40,23,"email"],[54,29,40,36],[54,33,40,41],[55,6,41,4],[55,10,41,8],[56,8,42,6],[56,14,42,12,"AsyncStorage"],[56,26,42,24],[56,27,42,24,"default"],[56,34,42,24],[56,35,42,25,"setItem"],[56,42,42,32],[56,43,42,33],[56,54,42,44],[56,56,42,46,"email"],[56,61,42,51],[56,62,42,52],[57,8,43,6,"setIsAuthenticated"],[57,26,43,24],[57,27,43,25],[57,31,43,29],[57,32,43,30],[58,8,44,6,"setUserEmail"],[58,20,44,18],[58,21,44,19,"email"],[58,26,44,24],[58,27,44,25],[59,8,45,6,"setIsAdmin"],[59,18,45,16],[59,19,45,17,"email"],[59,24,45,22],[59,29,45,27],[59,50,45,48],[59,51,45,49],[60,6,46,4],[60,7,46,5],[60,8,46,6],[60,15,46,13,"error"],[60,20,46,18],[60,22,46,20],[61,8,47,6,"console"],[61,15,47,13],[61,16,47,14,"error"],[61,21,47,19],[61,22,47,20],[61,43,47,41],[61,45,47,43,"error"],[61,50,47,48],[61,51,47,49],[62,8,48,6],[62,14,48,12,"error"],[62,19,48,17],[63,6,49,4],[64,4,50,2],[64,5,50,3],[65,4,52,2],[65,10,52,8,"logout"],[65,16,52,14],[65,19,52,17],[65,25,52,17,"logout"],[65,26,52,17],[65,31,52,29],[66,6,53,4],[66,10,53,8],[67,8,54,6],[67,14,54,12,"AsyncStorage"],[67,26,54,24],[67,27,54,24,"default"],[67,34,54,24],[67,35,54,25,"removeItem"],[67,45,54,35],[67,46,54,36],[67,57,54,47],[67,58,54,48],[68,8,55,6],[68,14,55,12,"AsyncStorage"],[68,26,55,24],[68,27,55,24,"default"],[68,34,55,24],[68,35,55,25,"removeItem"],[68,45,55,35],[68,46,55,36],[68,65,55,55],[68,66,55,56],[69,8,56,6,"setIsAuthenticated"],[69,26,56,24],[69,27,56,25],[69,32,56,30],[69,33,56,31],[70,8,57,6,"setUserEmail"],[70,20,57,18],[70,21,57,19],[70,25,57,23],[70,26,57,24],[71,8,58,6,"setIsAdmin"],[71,18,58,16],[71,19,58,17],[71,24,58,22],[71,25,58,23],[72,6,59,4],[72,7,59,5],[72,8,59,6],[72,15,59,13,"error"],[72,20,59,18],[72,22,59,20],[73,8,60,6,"console"],[73,15,60,13],[73,16,60,14,"error"],[73,21,60,19],[73,22,60,20],[73,44,60,42],[73,46,60,44,"error"],[73,51,60,49],[73,52,60,50],[74,8,61,6],[74,14,61,12,"error"],[74,19,61,17],[75,6,62,4],[76,4,63,2],[76,5,63,3],[77,4,65,2],[77,24,66,4],[77,28,66,4,"_reactJsxDevRuntime"],[77,47,66,4],[77,48,66,4,"jsxDEV"],[77,54,66,4],[77,56,66,5,"AuthContext"],[77,67,66,16],[77,68,66,17,"Provider"],[77,76,66,25],[78,6,66,26,"value"],[78,11,66,31],[78,13,66,33],[79,8,66,35,"isAuthenticated"],[79,23,66,50],[80,8,66,52,"userEmail"],[80,17,66,61],[81,8,66,63,"isAdmin"],[81,15,66,70],[82,8,66,72,"login"],[82,13,66,77],[83,8,66,79,"logout"],[83,14,66,85],[84,8,66,87,"loading"],[85,6,66,95],[85,7,66,97],[86,6,66,97,"children"],[86,14,66,97],[86,16,67,7,"children"],[87,4,67,15],[88,6,67,15,"fileName"],[88,14,67,15],[88,16,67,15,"_jsxFileName"],[88,28,67,15],[89,6,67,15,"lineNumber"],[89,16,67,15],[90,6,67,15,"columnNumber"],[90,18,67,15],[91,4,67,15],[91,11,68,26],[91,12,68,27],[92,2,70,0],[92,3,70,1],[93,2,72,7],[93,8,72,13,"useAuth"],[93,15,72,20],[93,18,72,23,"useAuth"],[93,19,72,23],[93,24,72,29],[94,4,73,2],[94,10,73,8,"context"],[94,17,73,15],[94,20,73,18],[94,24,73,18,"useContext"],[94,30,73,28],[94,31,73,28,"useContext"],[94,41,73,28],[94,43,73,29,"AuthContext"],[94,54,73,40],[94,55,73,41],[95,4,74,2],[95,8,74,6],[95,9,74,7,"context"],[95,16,74,14],[95,18,74,16],[96,6,75,4],[96,12,75,10],[96,16,75,14,"Error"],[96,21,75,19],[96,22,75,20],[96,64,75,62],[96,65,75,63],[97,4,76,2],[98,4,77,2],[98,11,77,9,"context"],[98,18,77,16],[99,2,78,0],[99,3,78,1],[100,0,78,2],[100,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuthStatus","login","logout","useAuth"],"mappings":"AAA;4BCc;YCM;GDE;0BEE;GFa;gBGE;GHU;iBIE;GJW;CDO;uBME;CNM"},"hasCjsExports":false},"type":"js/module"}]}
{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [isAuthenticated, setIsAuthenticated] = (0, _react.useState)(false);\n    const [userEmail, setUserEmail] = (0, _react.useState)(null);\n    const [isAdmin, setIsAdmin] = (0, _react.useState)(false);\n    const [authToken, setAuthToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkAuthStatus();\n    }, []);\n    const checkAuthStatus = async () => {\n      try {\n        const email = await AsyncStorage.default.getItem('userEmail');\n        const token = await AsyncStorage.default.getItem('authToken');\n        if (email) {\n          setIsAuthenticated(true);\n          setUserEmail(email);\n          setIsAdmin(email === 'admin@nutrikids.com');\n          setAuthToken(token);\n        }\n      } catch (error) {\n        console.error('Error checking auth status:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, token) => {\n      try {\n        await AsyncStorage.default.setItem('userEmail', email);\n        if (token) {\n          await AsyncStorage.default.setItem('authToken', token);\n        }\n        setIsAuthenticated(true);\n        setUserEmail(email);\n        setIsAdmin(email === 'admin@nutrikids.com');\n        setAuthToken(token || null);\n      } catch (error) {\n        console.error('Error during login:', error);\n        throw error;\n      }\n    };\n    const logout = async () => {\n      try {\n        await AsyncStorage.default.removeItem('userEmail');\n        await AsyncStorage.default.removeItem('authToken');\n        await AsyncStorage.default.removeItem('hasSeenOnboarding');\n        setIsAuthenticated(false);\n        setUserEmail(null);\n        setIsAdmin(false);\n        setAuthToken(null);\n      } catch (error) {\n        console.error('Error during logout:', error);\n        throw error;\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        isAuthenticated,\n        userEmail,\n        isAdmin,\n        authToken,\n        login,\n        logout,\n        loading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":110,"map":[[13,2,16,0,"Object"],[13,8,16,0],[13,9,16,0,"defineProperty"],[13,23,16,0],[13,24,16,0,"exports"],[13,31,16,0],[14,4,16,0,"enumerable"],[14,14,16,0],[15,4,16,0,"get"],[15,7,16,0],[15,18,16,0,"get"],[15,19,16,0],[16,6,16,0],[16,13,16,0,"AuthProvider"],[16,25,16,0],[17,4,16,0],[18,2,16,0],[19,2,82,0,"Object"],[19,8,82,0],[19,9,82,0,"defineProperty"],[19,23,82,0],[19,24,82,0,"exports"],[19,31,82,0],[20,4,82,0,"enumerable"],[20,14,82,0],[21,4,82,0,"get"],[21,7,82,0],[21,18,82,0,"get"],[21,19,82,0],[22,6,82,0],[22,13,82,0,"useAuth"],[22,20,82,0],[23,4,82,0],[24,2,82,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,2,69],[28,6,2,69,"_reactJsxDevRuntime"],[28,25,2,69],[28,28,2,69,"require"],[28,35,2,69],[28,36,2,69,"_dependencyMap"],[28,50,2,69],[29,2,14,0],[29,8,14,6,"AuthContext"],[29,19,14,17],[29,35,14,20],[29,39,14,20,"createContext"],[29,45,14,33],[29,46,14,33,"createContext"],[29,59,14,33],[29,61,14,63,"undefined"],[29,70,14,72],[29,71,14,73],[30,2,16,7],[30,8,16,13,"AuthProvider"],[30,20,16,25],[30,23,16,28,"AuthProvider"],[30,24,16,29],[31,4,16,31,"children"],[32,2,16,65],[32,3,16,66],[32,8,16,71],[33,4,17,2],[33,10,17,8],[33,11,17,9,"isAuthenticated"],[33,26,17,24],[33,28,17,26,"setIsAuthenticated"],[33,46,17,44],[33,47,17,45],[33,50,17,48],[33,54,17,48,"useState"],[33,60,17,56],[33,61,17,56,"useState"],[33,69,17,56],[33,71,17,57],[33,76,17,62],[33,77,17,63],[34,4,18,2],[34,10,18,8],[34,11,18,9,"userEmail"],[34,20,18,18],[34,22,18,20,"setUserEmail"],[34,34,18,32],[34,35,18,33],[34,38,18,36],[34,42,18,36,"useState"],[34,48,18,44],[34,49,18,44,"useState"],[34,57,18,44],[34,59,18,60],[34,63,18,64],[34,64,18,65],[35,4,19,2],[35,10,19,8],[35,11,19,9,"isAdmin"],[35,18,19,16],[35,20,19,18,"setIsAdmin"],[35,30,19,28],[35,31,19,29],[35,34,19,32],[35,38,19,32,"useState"],[35,44,19,40],[35,45,19,40,"useState"],[35,53,19,40],[35,55,19,41],[35,60,19,46],[35,61,19,47],[36,4,20,2],[36,10,20,8],[36,11,20,9,"authToken"],[36,20,20,18],[36,22,20,20,"setAuthToken"],[36,34,20,32],[36,35,20,33],[36,38,20,36],[36,42,20,36,"useState"],[36,48,20,44],[36,49,20,44,"useState"],[36,57,20,44],[36,59,20,60],[36,63,20,64],[36,64,20,65],[37,4,21,2],[37,10,21,8],[37,11,21,9,"loading"],[37,18,21,16],[37,20,21,18,"setLoading"],[37,30,21,28],[37,31,21,29],[37,34,21,32],[37,38,21,32,"useState"],[37,44,21,40],[37,45,21,40,"useState"],[37,53,21,40],[37,55,21,41],[37,59,21,45],[37,60,21,46],[38,4,23,2],[38,8,23,2,"useEffect"],[38,14,23,11],[38,15,23,11,"useEffect"],[38,24,23,11],[38,26,23,12],[38,32,23,18],[39,6,24,4,"checkAuthStatus"],[39,21,24,19],[39,22,24,20],[39,23,24,21],[40,4,25,2],[40,5,25,3],[40,7,25,5],[40,9,25,7],[40,10,25,8],[41,4,27,2],[41,10,27,8,"checkAuthStatus"],[41,25,27,23],[41,28,27,26],[41,34,27,26,"checkAuthStatus"],[41,35,27,26],[41,40,27,38],[42,6,28,4],[42,10,28,8],[43,8,29,6],[43,14,29,12,"email"],[43,19,29,17],[43,22,29,20],[43,28,29,26,"AsyncStorage"],[43,40,29,38],[43,41,29,38,"default"],[43,48,29,38],[43,49,29,39,"getItem"],[43,56,29,46],[43,57,29,47],[43,68,29,58],[43,69,29,59],[44,8,30,6],[44,14,30,12,"token"],[44,19,30,17],[44,22,30,20],[44,28,30,26,"AsyncStorage"],[44,40,30,38],[44,41,30,38,"default"],[44,48,30,38],[44,49,30,39,"getItem"],[44,56,30,46],[44,57,30,47],[44,68,30,58],[44,69,30,59],[45,8,31,6],[45,12,31,10,"email"],[45,17,31,15],[45,19,31,17],[46,10,32,8,"setIsAuthenticated"],[46,28,32,26],[46,29,32,27],[46,33,32,31],[46,34,32,32],[47,10,33,8,"setUserEmail"],[47,22,33,20],[47,23,33,21,"email"],[47,28,33,26],[47,29,33,27],[48,10,34,8,"setIsAdmin"],[48,20,34,18],[48,21,34,19,"email"],[48,26,34,24],[48,31,34,29],[48,52,34,50],[48,53,34,51],[49,10,35,8,"setAuthToken"],[49,22,35,20],[49,23,35,21,"token"],[49,28,35,26],[49,29,35,27],[50,8,36,6],[51,6,37,4],[51,7,37,5],[51,8,37,6],[51,15,37,13,"error"],[51,20,37,18],[51,22,37,20],[52,8,38,6,"console"],[52,15,38,13],[52,16,38,14,"error"],[52,21,38,19],[52,22,38,20],[52,51,38,49],[52,53,38,51,"error"],[52,58,38,56],[52,59,38,57],[53,6,39,4],[53,7,39,5],[53,16,39,14],[54,8,40,6,"setLoading"],[54,18,40,16],[54,19,40,17],[54,24,40,22],[54,25,40,23],[55,6,41,4],[56,4,42,2],[56,5,42,3],[57,4,44,2],[57,10,44,8,"login"],[57,15,44,13],[57,18,44,16],[57,24,44,16,"login"],[57,25,44,23,"email"],[57,30,44,36],[57,32,44,38,"token"],[57,37,44,52],[57,42,44,57],[58,6,45,4],[58,10,45,8],[59,8,46,6],[59,14,46,12,"AsyncStorage"],[59,26,46,24],[59,27,46,24,"default"],[59,34,46,24],[59,35,46,25,"setItem"],[59,42,46,32],[59,43,46,33],[59,54,46,44],[59,56,46,46,"email"],[59,61,46,51],[59,62,46,52],[60,8,47,6],[60,12,47,10,"token"],[60,17,47,15],[60,19,47,17],[61,10,48,8],[61,16,48,14,"AsyncStorage"],[61,28,48,26],[61,29,48,26,"default"],[61,36,48,26],[61,37,48,27,"setItem"],[61,44,48,34],[61,45,48,35],[61,56,48,46],[61,58,48,48,"token"],[61,63,48,53],[61,64,48,54],[62,8,49,6],[63,8,50,6,"setIsAuthenticated"],[63,26,50,24],[63,27,50,25],[63,31,50,29],[63,32,50,30],[64,8,51,6,"setUserEmail"],[64,20,51,18],[64,21,51,19,"email"],[64,26,51,24],[64,27,51,25],[65,8,52,6,"setIsAdmin"],[65,18,52,16],[65,19,52,17,"email"],[65,24,52,22],[65,29,52,27],[65,50,52,48],[65,51,52,49],[66,8,53,6,"setAuthToken"],[66,20,53,18],[66,21,53,19,"token"],[66,26,53,24],[66,30,53,28],[66,34,53,32],[66,35,53,33],[67,6,54,4],[67,7,54,5],[67,8,54,6],[67,15,54,13,"error"],[67,20,54,18],[67,22,54,20],[68,8,55,6,"console"],[68,15,55,13],[68,16,55,14,"error"],[68,21,55,19],[68,22,55,20],[68,43,55,41],[68,45,55,43,"error"],[68,50,55,48],[68,51,55,49],[69,8,56,6],[69,14,56,12,"error"],[69,19,56,17],[70,6,57,4],[71,4,58,2],[71,5,58,3],[72,4,60,2],[72,10,60,8,"logout"],[72,16,60,14],[72,19,60,17],[72,25,60,17,"logout"],[72,26,60,17],[72,31,60,29],[73,6,61,4],[73,10,61,8],[74,8,62,6],[74,14,62,12,"AsyncStorage"],[74,26,62,24],[74,27,62,24,"default"],[74,34,62,24],[74,35,62,25,"removeItem"],[74,45,62,35],[74,46,62,36],[74,57,62,47],[74,58,62,48],[75,8,63,6],[75,14,63,12,"AsyncStorage"],[75,26,63,24],[75,27,63,24,"default"],[75,34,63,24],[75,35,63,25,"removeItem"],[75,45,63,35],[75,46,63,36],[75,57,63,47],[75,58,63,48],[76,8,64,6],[76,14,64,12,"AsyncStorage"],[76,26,64,24],[76,27,64,24,"default"],[76,34,64,24],[76,35,64,25,"removeItem"],[76,45,64,35],[76,46,64,36],[76,65,64,55],[76,66,64,56],[77,8,65,6,"setIsAuthenticated"],[77,26,65,24],[77,27,65,25],[77,32,65,30],[77,33,65,31],[78,8,66,6,"setUserEmail"],[78,20,66,18],[78,21,66,19],[78,25,66,23],[78,26,66,24],[79,8,67,6,"setIsAdmin"],[79,18,67,16],[79,19,67,17],[79,24,67,22],[79,25,67,23],[80,8,68,6,"setAuthToken"],[80,20,68,18],[80,21,68,19],[80,25,68,23],[80,26,68,24],[81,6,69,4],[81,7,69,5],[81,8,69,6],[81,15,69,13,"error"],[81,20,69,18],[81,22,69,20],[82,8,70,6,"console"],[82,15,70,13],[82,16,70,14,"error"],[82,21,70,19],[82,22,70,20],[82,44,70,42],[82,46,70,44,"error"],[82,51,70,49],[82,52,70,50],[83,8,71,6],[83,14,71,12,"error"],[83,19,71,17],[84,6,72,4],[85,4,73,2],[85,5,73,3],[86,4,75,2],[86,24,76,4],[86,28,76,4,"_reactJsxDevRuntime"],[86,47,76,4],[86,48,76,4,"jsxDEV"],[86,54,76,4],[86,56,76,5,"AuthContext"],[86,67,76,16],[86,68,76,17,"Provider"],[86,76,76,25],[87,6,76,26,"value"],[87,11,76,31],[87,13,76,33],[88,8,76,35,"isAuthenticated"],[88,23,76,50],[89,8,76,52,"userEmail"],[89,17,76,61],[90,8,76,63,"isAdmin"],[90,15,76,70],[91,8,76,72,"authToken"],[91,17,76,81],[92,8,76,83,"login"],[92,13,76,88],[93,8,76,90,"logout"],[93,14,76,96],[94,8,76,98,"loading"],[95,6,76,106],[95,7,76,108],[96,6,76,108,"children"],[96,14,76,108],[96,16,77,7,"children"],[97,4,77,15],[98,6,77,15,"fileName"],[98,14,77,15],[98,16,77,15,"_jsxFileName"],[98,28,77,15],[99,6,77,15,"lineNumber"],[99,16,77,15],[100,6,77,15,"columnNumber"],[100,18,77,15],[101,4,77,15],[101,11,78,26],[101,12,78,27],[102,2,80,0],[102,3,80,1],[103,2,82,7],[103,8,82,13,"useAuth"],[103,15,82,20],[103,18,82,23,"useAuth"],[103,19,82,23],[103,24,82,29],[104,4,83,2],[104,10,83,8,"context"],[104,17,83,15],[104,20,83,18],[104,24,83,18,"useContext"],[104,30,83,28],[104,31,83,28,"useContext"],[104,41,83,28],[104,43,83,29,"AuthContext"],[104,54,83,40],[104,55,83,41],[105,4,84,2],[105,8,84,6],[105,9,84,7,"context"],[105,16,84,14],[105,18,84,16],[106,6,85,4],[106,12,85,10],[106,16,85,14,"Error"],[106,21,85,19],[106,22,85,20],[106,64,85,62],[106,65,85,63],[107,4,86,2],[108,4,87,2],[108,11,87,9,"context"],[108,18,87,16],[109,2,88,0],[109,3,88,1],[110,0,88,2],[110,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuthStatus","login","logout","useAuth"],"mappings":"AAA;4BCe;YCO;GDE;0BEE;GFe;gBGE;GHc;iBIE;GJa;CDO;uBME;CNM"},"hasCjsExports":false},"type":"js/module"}]}
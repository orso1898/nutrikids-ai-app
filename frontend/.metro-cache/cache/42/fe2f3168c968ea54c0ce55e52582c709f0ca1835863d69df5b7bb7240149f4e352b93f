{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../utils/pushNotifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":79,"index":239}}],"key":"pacSeurS2lh+gpQJVOM5Oqathn8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"AuthProvider\",{enumerable:!0,get:function(){return c}}),Object.defineProperty(_e,\"useAuth\",{enumerable:!0,get:function(){return h}});var e,t=r(d[0]),n=r(d[1]),u=(e=n)&&e.__esModule?e:{default:e},o=r(d[2]),s=r(d[3]);const l=(0,t.createContext)(void 0),c=({children:e})=>{const[n,c]=(0,t.useState)(!1),[h,f]=(0,t.useState)(null),[w,y]=(0,t.useState)(!1),[v,E]=(0,t.useState)(null),[I,b]=(0,t.useState)(!0);(0,t.useEffect)(()=>{k()},[]);const k=async()=>{try{const e=await u.default.getItem('userEmail'),t=await u.default.getItem('authToken');e&&(c(!0),f(e),y('admin@nutrikids.com'===e),E(t))}catch(e){console.error('Error checking auth status:',e)}finally{b(!1)}};return(0,s.jsx)(l.Provider,{value:{isAuthenticated:n,userEmail:h,isAdmin:w,authToken:v,login:async(e,t)=>{try{await u.default.setItem('userEmail',e),t&&await u.default.setItem('authToken',t),c(!0),f(e),y('admin@nutrikids.com'===e),E(t||null);const n=await u.default.getItem('language')||'it';(0,o.registerForPushNotificationsAsync)(e,n).catch(e=>console.error('Failed to register push notifications:',e))}catch(e){throw console.error('Error during login:',e),e}},logout:async()=>{try{await u.default.removeItem('userEmail'),await u.default.removeItem('authToken'),await u.default.removeItem('hasSeenOnboarding'),c(!1),f(null),y(!1),E(null)}catch(e){throw console.error('Error during logout:',e),e}},loading:I},children:e})},h=()=>{const e=(0,t.useContext)(l);if(!e)throw new Error('useAuth must be used within AuthProvider');return e}});","lineCount":1,"map":[[1,92,17,0,"Object"],[1,99,17,0,"defineProperty"],[1,114,17,0,"_e"],[1,117,17,0],[1,133,17,0,"enumerable"],[1,145,17,0],[1,147,17,0,"get"],[1,151,17,0],[1,169,17,0,"AuthProvider"],[1,170,17,0],[1,174,89,0,"Object"],[1,181,89,0,"defineProperty"],[1,196,89,0,"_e"],[1,199,89,0],[1,210,89,0,"enumerable"],[1,222,89,0],[1,224,89,0,"get"],[1,228,89,0],[1,246,89,0,"useAuth"],[1,247,89,0],[1,251,1,0],[1,255],[1,257,1,0,"_react"],[1,259,1,0,"r"],[1,261,1,0,"d"],[1,263,1,0],[1,267,2,0,"_reactNativeAsyncStorageAsyncStorage"],[1,269,2,0,"r"],[1,271,2,0,"d"],[1,273,2,0],[1,277,2,0,"AsyncStorage"],[1,280],[1,282,2,0,"_reactNativeAsyncStorageAsyncStorage"],[1,286],[1,313,3,0,"_utilsPushNotifications"],[1,315,3,0,"r"],[1,317,3,0,"d"],[1,319,3,0],[1,323,3,79,"_reactJsxRuntime"],[1,325,3,79,"r"],[1,327,3,79,"d"],[1,329,3,79],[1,333,15,0],[1,339,15,6,"AuthContext"],[1,342,15,20],[1,344,15,20,"createContext"],[1,346,15,33,"createContext"],[1,366,15,63,"undefined"],[1,369,17,13,"AuthProvider"],[1,371,17,28,"AuthProvider"],[1,373,17,31,"children"],[1,388,18,2],[1,394,18,9,"isAuthenticated"],[1,396,18,26,"setIsAuthenticated"],[1,400,18,48],[1,402,18,48,"useState"],[1,404,18,56,"useState"],[1,415,18,57],[1,419,19,9,"userEmail"],[1,421,19,20,"setUserEmail"],[1,425,19,36],[1,427,19,36,"useState"],[1,429,19,44,"useState"],[1,439,19,60],[1,446,20,9,"isAdmin"],[1,448,20,18,"setIsAdmin"],[1,452,20,32],[1,454,20,32,"useState"],[1,456,20,40,"useState"],[1,467,20,41],[1,471,21,9,"authToken"],[1,473,21,20,"setAuthToken"],[1,477,21,36],[1,479,21,36,"useState"],[1,481,21,44,"useState"],[1,491,21,60],[1,498,22,9,"loading"],[1,500,22,18,"setLoading"],[1,504,22,32],[1,506,22,32,"useState"],[1,508,22,40,"useState"],[1,519,22,41],[1,523,24,2],[1,525,24,2,"useEffect"],[1,527,24,11,"useEffect"],[1,538,24,12],[1,543,25,4,"checkAuthStatus"],[1,548,26,5],[1,552,28,2],[1,558,28,8,"checkAuthStatus"],[1,560,28,26,"async"],[1,570,29,4],[1,574,30,6],[1,580,30,12,"email"],[1,588,30,26,"AsyncStorage"],[1,590,30,38,"default"],[1,598,30,39,"getItem"],[1,606,30,47],[1,619,31,12,"token"],[1,627,31,26,"AsyncStorage"],[1,629,31,38,"default"],[1,637,31,39,"getItem"],[1,645,31,47],[1,658,32,10,"email"],[1,662,33,8,"setIsAuthenticated"],[1,665,33,27],[1,668,34,8,"setUserEmail"],[1,670,34,21,"email"],[1,673,35,8,"setIsAdmin"],[1,675,35,29],[1,699,35,19,"email"],[1,702,36,8,"setAuthToken"],[1,704,36,21,"token"],[1,707,38,4],[1,708,38,6],[1,714,38,13,"error"],[1,717,39,6,"console"],[1,725,39,14,"error"],[1,731,39,20],[1,761,39,51,"error"],[1,763,40,4],[1,764,40,5],[1,772,41,6,"setLoading"],[1,775,41,17],[1,777,42,4],[1,780,82,2],[1,787,83,4],[1,789,83,4,"_reactJsxRuntime"],[1,791,83,4,"jsx"],[1,796,83,5,"AuthContext"],[1,798,83,17,"Provider"],[1,807,83,25],[1,808,83,26,"value"],[1,814,83,33],[1,815,83,35,"isAuthenticated"],[1,833,83,52,"userEmail"],[1,845,83,63,"isAdmin"],[1,855,83,72,"authToken"],[1,867,83,83,"login"],[1,873,45,16,"async"],[1,879,45,23,"email"],[1,881,45,38,"token"],[1,886,46,4],[1,896,47,12,"AsyncStorage"],[1,898,47,24,"default"],[1,906,47,25,"setItem"],[1,914,47,33],[1,926,47,46,"email"],[1,929,48,10,"token"],[1,938,49,14,"AsyncStorage"],[1,940,49,26,"default"],[1,948,49,27,"setItem"],[1,956,49,35],[1,968,49,48,"token"],[1,971,51,6,"setIsAuthenticated"],[1,974,51,25],[1,977,52,6,"setUserEmail"],[1,979,52,19,"email"],[1,982,53,6,"setIsAdmin"],[1,984,53,27],[1,1008,53,17,"email"],[1,1011,54,6,"setAuthToken"],[1,1013,54,19,"token"],[1,1016,54,28],[1,1022,57,6],[1,1028,57,12,"savedLanguage"],[1,1036,57,34,"AsyncStorage"],[1,1038,57,46,"default"],[1,1046,57,47,"getItem"],[1,1054,57,55],[1,1067,57,70],[1,1073,58,6],[1,1075,58,6,"registerForPushNotificationsAsync"],[1,1077,58,39,"registerForPushNotificationsAsync"],[1,1112,58,40,"email"],[1,1114,58,47,"savedLanguage"],[1,1117,58,62,"catch"],[1,1123,58,68,"err"],[1,1126,59,8,"console"],[1,1134,59,16,"error"],[1,1140,59,22],[1,1181,59,64,"err"],[1,1184,61,4],[1,1185,61,6],[1,1191,61,13,"error"],[1,1194,63,6],[1,1200,62,6,"console"],[1,1208,62,14,"error"],[1,1214,62,20],[1,1236,62,43,"error"],[1,1239,63,12,"error"],[1,1240,64,4],[1,1243,83,90,"logout"],[1,1250,67,17,"async"],[1,1260,68,4],[1,1270,69,12,"AsyncStorage"],[1,1272,69,24,"default"],[1,1280,69,25,"removeItem"],[1,1291,69,36],[1,1310,70,12,"AsyncStorage"],[1,1312,70,24,"default"],[1,1320,70,25,"removeItem"],[1,1331,70,36],[1,1350,71,12,"AsyncStorage"],[1,1352,71,24,"default"],[1,1360,71,25,"removeItem"],[1,1371,71,36],[1,1392,72,6,"setIsAuthenticated"],[1,1395,72,25],[1,1398,73,6,"setUserEmail"],[1,1400,73,19],[1,1406,74,6,"setIsAdmin"],[1,1409,74,17],[1,1412,75,6,"setAuthToken"],[1,1414,75,19],[1,1419,76,4],[1,1420,76,6],[1,1426,76,13,"error"],[1,1429,78,6],[1,1435,77,6,"console"],[1,1443,77,14,"error"],[1,1449,77,20],[1,1472,77,44,"error"],[1,1475,78,12,"error"],[1,1476,79,4],[1,1479,83,98,"loading"],[1,1490,83,108,"children"],[1,1499,84,7,"children"],[1,1504,89,13,"useAuth"],[1,1506,89,23,"useAuth"],[1,1511,90,2],[1,1517,90,8,"context"],[1,1520,90,18],[1,1522,90,18,"useContext"],[1,1524,90,28,"useContext"],[1,1536,90,29,"AuthContext"],[1,1539,91,2],[1,1543,91,7,"context"],[1,1545,92,4],[1,1551,92,10],[1,1555,92,14,"Error"],[1,1561,92,20],[1,1605,94,2],[1,1612,94,9,"context"],[1,1614,95,2],[1,1617]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuthStatus","login","registerForPushNotificationsAsync._catch$argument_0","logout","useAuth"],"mappings":"AAA;4BCgB;YCO;GDE;0BEE;GFe;gBGE;oECa;oEDC;GHM;iBKE;GLa;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}
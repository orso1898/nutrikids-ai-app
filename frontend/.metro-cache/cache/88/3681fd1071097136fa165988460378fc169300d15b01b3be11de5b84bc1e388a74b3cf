{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [isAuthenticated, setIsAuthenticated] = (0, _react.useState)(false);\n    const [userEmail, setUserEmail] = (0, _react.useState)(null);\n    const [isAdmin, setIsAdmin] = (0, _react.useState)(false);\n    const [authToken, setAuthToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkAuthStatus();\n    }, []);\n    const checkAuthStatus = async () => {\n      try {\n        const email = await AsyncStorage.default.getItem('userEmail');\n        const token = await AsyncStorage.default.getItem('authToken');\n        if (email) {\n          setIsAuthenticated(true);\n          setUserEmail(email);\n          setIsAdmin(email === 'admin@nutrikids.com');\n          setAuthToken(token);\n        }\n      } catch (error) {\n        console.error('Error checking auth status:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, token) => {\n      try {\n        await AsyncStorage.default.setItem('userEmail', email);\n        if (token) {\n          await AsyncStorage.default.setItem('authToken', token);\n        }\n        setIsAuthenticated(true);\n        setUserEmail(email);\n        setIsAdmin(email === 'admin@nutrikids.com');\n        setAuthToken(token || null);\n      } catch (error) {\n        console.error('Error during login:', error);\n        throw error;\n      }\n    };\n    const logout = async () => {\n      try {\n        await AsyncStorage.default.removeItem('userEmail');\n        await AsyncStorage.default.removeItem('authToken');\n        await AsyncStorage.default.removeItem('hasSeenOnboarding');\n        setIsAuthenticated(false);\n        setUserEmail(null);\n        setIsAdmin(false);\n        setAuthToken(null);\n      } catch (error) {\n        console.error('Error during logout:', error);\n        throw error;\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        isAuthenticated,\n        userEmail,\n        isAdmin,\n        authToken,\n        login,\n        logout,\n        loading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"GJTxOhqf1p6CieJBvfw45YfdCaE=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":119,"map":[[15,2,16,0,"Object"],[15,8,16,0],[15,9,16,0,"defineProperty"],[15,23,16,0],[15,24,16,0,"exports"],[15,31,16,0],[16,4,16,0,"enumerable"],[16,14,16,0],[17,4,16,0,"get"],[17,7,16,0],[17,18,16,0,"get"],[17,19,16,0],[18,6,16,0],[18,13,16,0,"AuthProvider"],[18,25,16,0],[19,4,16,0],[20,2,16,0],[21,2,82,0,"Object"],[21,8,82,0],[21,9,82,0,"defineProperty"],[21,23,82,0],[21,24,82,0,"exports"],[21,31,82,0],[22,4,82,0,"enumerable"],[22,14,82,0],[23,4,82,0,"get"],[23,7,82,0],[23,18,82,0,"get"],[23,19,82,0],[24,6,82,0],[24,13,82,0,"useAuth"],[24,20,82,0],[25,4,82,0],[26,2,82,0],[27,2,1,0],[27,6,1,0,"_react"],[27,12,1,0],[27,15,1,0,"require"],[27,22,1,0],[27,23,1,0,"_dependencyMap"],[27,37,1,0],[28,2,2,0],[28,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[28,42,2,0],[28,45,2,0,"require"],[28,52,2,0],[28,53,2,0,"_dependencyMap"],[28,67,2,0],[29,2,2,0],[29,6,2,0,"AsyncStorage"],[29,18,2,0],[29,21,2,0,"_interopDefault"],[29,36,2,0],[29,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[29,73,2,0],[30,2,2,69],[30,6,2,69,"_reactJsxDevRuntime"],[30,25,2,69],[30,28,2,69,"require"],[30,35,2,69],[30,36,2,69,"_dependencyMap"],[30,50,2,69],[31,2,14,0],[31,8,14,6,"AuthContext"],[31,19,14,17],[31,35,14,20],[31,39,14,20,"createContext"],[31,45,14,33],[31,46,14,33,"createContext"],[31,59,14,33],[31,61,14,63,"undefined"],[31,70,14,72],[31,71,14,73],[32,2,16,7],[32,8,16,13,"AuthProvider"],[32,20,16,25],[32,23,16,28,"AuthProvider"],[32,24,16,29],[33,4,16,31,"children"],[34,2,16,65],[34,3,16,66],[34,8,16,71],[35,4,16,71,"_s"],[35,6,16,71],[36,4,17,2],[36,10,17,8],[36,11,17,9,"isAuthenticated"],[36,26,17,24],[36,28,17,26,"setIsAuthenticated"],[36,46,17,44],[36,47,17,45],[36,50,17,48],[36,54,17,48,"useState"],[36,60,17,56],[36,61,17,56,"useState"],[36,69,17,56],[36,71,17,57],[36,76,17,62],[36,77,17,63],[37,4,18,2],[37,10,18,8],[37,11,18,9,"userEmail"],[37,20,18,18],[37,22,18,20,"setUserEmail"],[37,34,18,32],[37,35,18,33],[37,38,18,36],[37,42,18,36,"useState"],[37,48,18,44],[37,49,18,44,"useState"],[37,57,18,44],[37,59,18,60],[37,63,18,64],[37,64,18,65],[38,4,19,2],[38,10,19,8],[38,11,19,9,"isAdmin"],[38,18,19,16],[38,20,19,18,"setIsAdmin"],[38,30,19,28],[38,31,19,29],[38,34,19,32],[38,38,19,32,"useState"],[38,44,19,40],[38,45,19,40,"useState"],[38,53,19,40],[38,55,19,41],[38,60,19,46],[38,61,19,47],[39,4,20,2],[39,10,20,8],[39,11,20,9,"authToken"],[39,20,20,18],[39,22,20,20,"setAuthToken"],[39,34,20,32],[39,35,20,33],[39,38,20,36],[39,42,20,36,"useState"],[39,48,20,44],[39,49,20,44,"useState"],[39,57,20,44],[39,59,20,60],[39,63,20,64],[39,64,20,65],[40,4,21,2],[40,10,21,8],[40,11,21,9,"loading"],[40,18,21,16],[40,20,21,18,"setLoading"],[40,30,21,28],[40,31,21,29],[40,34,21,32],[40,38,21,32,"useState"],[40,44,21,40],[40,45,21,40,"useState"],[40,53,21,40],[40,55,21,41],[40,59,21,45],[40,60,21,46],[41,4,23,2],[41,8,23,2,"useEffect"],[41,14,23,11],[41,15,23,11,"useEffect"],[41,24,23,11],[41,26,23,12],[41,32,23,18],[42,6,24,4,"checkAuthStatus"],[42,21,24,19],[42,22,24,20],[42,23,24,21],[43,4,25,2],[43,5,25,3],[43,7,25,5],[43,9,25,7],[43,10,25,8],[44,4,27,2],[44,10,27,8,"checkAuthStatus"],[44,25,27,23],[44,28,27,26],[44,34,27,26,"checkAuthStatus"],[44,35,27,26],[44,40,27,38],[45,6,28,4],[45,10,28,8],[46,8,29,6],[46,14,29,12,"email"],[46,19,29,17],[46,22,29,20],[46,28,29,26,"AsyncStorage"],[46,40,29,38],[46,41,29,38,"default"],[46,48,29,38],[46,49,29,39,"getItem"],[46,56,29,46],[46,57,29,47],[46,68,29,58],[46,69,29,59],[47,8,30,6],[47,14,30,12,"token"],[47,19,30,17],[47,22,30,20],[47,28,30,26,"AsyncStorage"],[47,40,30,38],[47,41,30,38,"default"],[47,48,30,38],[47,49,30,39,"getItem"],[47,56,30,46],[47,57,30,47],[47,68,30,58],[47,69,30,59],[48,8,31,6],[48,12,31,10,"email"],[48,17,31,15],[48,19,31,17],[49,10,32,8,"setIsAuthenticated"],[49,28,32,26],[49,29,32,27],[49,33,32,31],[49,34,32,32],[50,10,33,8,"setUserEmail"],[50,22,33,20],[50,23,33,21,"email"],[50,28,33,26],[50,29,33,27],[51,10,34,8,"setIsAdmin"],[51,20,34,18],[51,21,34,19,"email"],[51,26,34,24],[51,31,34,29],[51,52,34,50],[51,53,34,51],[52,10,35,8,"setAuthToken"],[52,22,35,20],[52,23,35,21,"token"],[52,28,35,26],[52,29,35,27],[53,8,36,6],[54,6,37,4],[54,7,37,5],[54,8,37,6],[54,15,37,13,"error"],[54,20,37,18],[54,22,37,20],[55,8,38,6,"console"],[55,15,38,13],[55,16,38,14,"error"],[55,21,38,19],[55,22,38,20],[55,51,38,49],[55,53,38,51,"error"],[55,58,38,56],[55,59,38,57],[56,6,39,4],[56,7,39,5],[56,16,39,14],[57,8,40,6,"setLoading"],[57,18,40,16],[57,19,40,17],[57,24,40,22],[57,25,40,23],[58,6,41,4],[59,4,42,2],[59,5,42,3],[60,4,44,2],[60,10,44,8,"login"],[60,15,44,13],[60,18,44,16],[60,24,44,16,"login"],[60,25,44,23,"email"],[60,30,44,36],[60,32,44,38,"token"],[60,37,44,52],[60,42,44,57],[61,6,45,4],[61,10,45,8],[62,8,46,6],[62,14,46,12,"AsyncStorage"],[62,26,46,24],[62,27,46,24,"default"],[62,34,46,24],[62,35,46,25,"setItem"],[62,42,46,32],[62,43,46,33],[62,54,46,44],[62,56,46,46,"email"],[62,61,46,51],[62,62,46,52],[63,8,47,6],[63,12,47,10,"token"],[63,17,47,15],[63,19,47,17],[64,10,48,8],[64,16,48,14,"AsyncStorage"],[64,28,48,26],[64,29,48,26,"default"],[64,36,48,26],[64,37,48,27,"setItem"],[64,44,48,34],[64,45,48,35],[64,56,48,46],[64,58,48,48,"token"],[64,63,48,53],[64,64,48,54],[65,8,49,6],[66,8,50,6,"setIsAuthenticated"],[66,26,50,24],[66,27,50,25],[66,31,50,29],[66,32,50,30],[67,8,51,6,"setUserEmail"],[67,20,51,18],[67,21,51,19,"email"],[67,26,51,24],[67,27,51,25],[68,8,52,6,"setIsAdmin"],[68,18,52,16],[68,19,52,17,"email"],[68,24,52,22],[68,29,52,27],[68,50,52,48],[68,51,52,49],[69,8,53,6,"setAuthToken"],[69,20,53,18],[69,21,53,19,"token"],[69,26,53,24],[69,30,53,28],[69,34,53,32],[69,35,53,33],[70,6,54,4],[70,7,54,5],[70,8,54,6],[70,15,54,13,"error"],[70,20,54,18],[70,22,54,20],[71,8,55,6,"console"],[71,15,55,13],[71,16,55,14,"error"],[71,21,55,19],[71,22,55,20],[71,43,55,41],[71,45,55,43,"error"],[71,50,55,48],[71,51,55,49],[72,8,56,6],[72,14,56,12,"error"],[72,19,56,17],[73,6,57,4],[74,4,58,2],[74,5,58,3],[75,4,60,2],[75,10,60,8,"logout"],[75,16,60,14],[75,19,60,17],[75,25,60,17,"logout"],[75,26,60,17],[75,31,60,29],[76,6,61,4],[76,10,61,8],[77,8,62,6],[77,14,62,12,"AsyncStorage"],[77,26,62,24],[77,27,62,24,"default"],[77,34,62,24],[77,35,62,25,"removeItem"],[77,45,62,35],[77,46,62,36],[77,57,62,47],[77,58,62,48],[78,8,63,6],[78,14,63,12,"AsyncStorage"],[78,26,63,24],[78,27,63,24,"default"],[78,34,63,24],[78,35,63,25,"removeItem"],[78,45,63,35],[78,46,63,36],[78,57,63,47],[78,58,63,48],[79,8,64,6],[79,14,64,12,"AsyncStorage"],[79,26,64,24],[79,27,64,24,"default"],[79,34,64,24],[79,35,64,25,"removeItem"],[79,45,64,35],[79,46,64,36],[79,65,64,55],[79,66,64,56],[80,8,65,6,"setIsAuthenticated"],[80,26,65,24],[80,27,65,25],[80,32,65,30],[80,33,65,31],[81,8,66,6,"setUserEmail"],[81,20,66,18],[81,21,66,19],[81,25,66,23],[81,26,66,24],[82,8,67,6,"setIsAdmin"],[82,18,67,16],[82,19,67,17],[82,24,67,22],[82,25,67,23],[83,8,68,6,"setAuthToken"],[83,20,68,18],[83,21,68,19],[83,25,68,23],[83,26,68,24],[84,6,69,4],[84,7,69,5],[84,8,69,6],[84,15,69,13,"error"],[84,20,69,18],[84,22,69,20],[85,8,70,6,"console"],[85,15,70,13],[85,16,70,14,"error"],[85,21,70,19],[85,22,70,20],[85,44,70,42],[85,46,70,44,"error"],[85,51,70,49],[85,52,70,50],[86,8,71,6],[86,14,71,12,"error"],[86,19,71,17],[87,6,72,4],[88,4,73,2],[88,5,73,3],[89,4,75,2],[89,24,76,4],[89,28,76,4,"_reactJsxDevRuntime"],[89,47,76,4],[89,48,76,4,"jsxDEV"],[89,54,76,4],[89,56,76,5,"AuthContext"],[89,67,76,16],[89,68,76,17,"Provider"],[89,76,76,25],[90,6,76,26,"value"],[90,11,76,31],[90,13,76,33],[91,8,76,35,"isAuthenticated"],[91,23,76,50],[92,8,76,52,"userEmail"],[92,17,76,61],[93,8,76,63,"isAdmin"],[93,15,76,70],[94,8,76,72,"authToken"],[94,17,76,81],[95,8,76,83,"login"],[95,13,76,88],[96,8,76,90,"logout"],[96,14,76,96],[97,8,76,98,"loading"],[98,6,76,106],[98,7,76,108],[99,6,76,108,"children"],[99,14,76,108],[99,16,77,7,"children"],[100,4,77,15],[101,6,77,15,"fileName"],[101,14,77,15],[101,16,77,15,"_jsxFileName"],[101,28,77,15],[102,6,77,15,"lineNumber"],[102,16,77,15],[103,6,77,15,"columnNumber"],[103,18,77,15],[104,4,77,15],[104,11,78,26],[104,12,78,27],[105,2,80,0],[105,3,80,1],[106,2,80,2,"_s"],[106,4,80,2],[106,5,16,13,"AuthProvider"],[106,17,16,25],[107,2,16,25,"_c"],[107,4,16,25],[107,7,16,13,"AuthProvider"],[107,19,16,25],[108,2,82,7],[108,8,82,13,"useAuth"],[108,15,82,20],[108,18,82,23,"useAuth"],[108,19,82,23],[108,24,82,29],[109,4,82,29,"_s2"],[109,7,82,29],[110,4,83,2],[110,10,83,8,"context"],[110,17,83,15],[110,20,83,18],[110,24,83,18,"useContext"],[110,30,83,28],[110,31,83,28,"useContext"],[110,41,83,28],[110,43,83,29,"AuthContext"],[110,54,83,40],[110,55,83,41],[111,4,84,2],[111,8,84,6],[111,9,84,7,"context"],[111,16,84,14],[111,18,84,16],[112,6,85,4],[112,12,85,10],[112,16,85,14,"Error"],[112,21,85,19],[112,22,85,20],[112,64,85,62],[112,65,85,63],[113,4,86,2],[114,4,87,2],[114,11,87,9,"context"],[114,18,87,16],[115,2,88,0],[115,3,88,1],[116,2,88,2,"_s2"],[116,5,88,2],[116,6,82,13,"useAuth"],[116,13,82,20],[117,2,82,20],[117,6,82,20,"_c"],[117,8,82,20],[118,2,82,20,"$RefreshReg$"],[118,14,82,20],[118,15,82,20,"_c"],[118,17,82,20],[119,0,82,20],[119,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuthStatus","login","logout","useAuth"],"mappings":"AAA;4BCe;YCO;GDE;0BEE;GFe;gBGE;GHc;iBIE;GJa;CDO;uBME;CNM"},"hasCjsExports":false},"type":"js/module"}]}